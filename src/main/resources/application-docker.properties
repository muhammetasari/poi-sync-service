# ===================================
# Docker Profile Configuration
# ===================================

# Server
server.port=8080

# MongoDB (Atlas cloud)
spring.data.mongodb.uri=${MONGODB_URI}

# Redis (Upstash Cloud)
spring.data.redis.host=${SPRING_DATA_REDIS_HOST}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.password=${SPRING_DATA_REDIS_PASSWORD}
spring.data.redis.ssl.enabled=${SPRING_DATA_REDIS_SSL:true}

# Cache
spring.cache.cache-names=placeDetails
spring.cache.redis.time-to-live.placeDetails=24h

# Google API
google.api.key=${GOOGLE_API_KEY}

# JWT
jwt.secret-key=${JWT_SECRET:default-secret}
jwt.expiration-ms=86400000

# Rate Limit
rate.limit.anonymous=20
rate.limit.authenticated=100
rate.limit.period.seconds=60

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.otlp.metrics.export.step=60s
management.otlp.metrics.export.url=${GRAFANA_OTLP_ENDPOINT}/v1/metrics
management.otlp.metrics.export.headers.Authorization=Basic ${GRAFANA_API_TOKEN_BASE64}
management.otlp.metrics.export.enabled=true
management.otlp.metrics.export.resource-attributes.service.namespace=local-dev
management.otlp.metrics.export.resource-attributes.service.name=poi-sync-service-local

# Logging (with Correlation ID)
logging.level.root=INFO
logging.level.com.rovits=${LOGGING_LEVEL_COM_ROVITS:INFO}
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%X{correlationId}] %-5level %logger{36} - %msg%n

# Connection pool
spring.data.mongodb.auto-index-creation=true

# API Security
api.key.header=X-API-Key
api.key.value=${API_SECRET_KEY:default-secret-change-in-production}